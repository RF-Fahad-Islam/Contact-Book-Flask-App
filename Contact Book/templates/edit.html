{% extends "layout.html" %}
{% block title %} <title>Contacts Information</title> {% endblock %}
{% block body %}
<div class="container">
  <h1 class="text-center my-3">Contacts Book - 1</h1>
  <hr>
  <div class="card">
    <div class="card-header">
      Basic Actions
    </div>
    <div class="card-body">
      <a href="/edit/0" class="btn btn-outline-primary btn-lg my-3">Add Contact</a>
      <a href="/code-of-table" class="btn btn-outline-primary btn-lg my-3">Get Code</a>
    </div>
  </div>
  {% if contacts != [] %}
  {% if show == True %}
  <div class="form-floating">
    <textarea class="form-control" placeholder="Leave a comment here" id="floatingTextarea2" style="height: 100px">
      <table class="table table-striped table-hover" style="max-height: 300px; scroll-behavior: smooth;">
        <thead>
          <tr>
            <th scope="col">#</th>
            <th scope="col">Name</th>
            <th scope="col">Tel</th>
            <th scope="col">Date</th>
            <th scope="col">Email</th>
            <th scope="col">Address</th>
          </tr>
        </thead>
        <tbody>
          {% for contact in contacts %}
          <tr>
            <th scope="row">{{contact.sno}}</th>
            <td>{{contact.name}}</td>
            <td>{{contact.tel}}</td>
            <td>{{contact.email}}</td>
            <td>{{contact.address}}</td>
            <td>{{contact.date}}</td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </textarea>
  </div>
  {% endif %}

  <table class="table table-striped table-hover" style="max-height: 300px; scroll-behavior: smooth;">
    <thead>
      <tr>
        <th scope="col">#</th>
        <th scope="col">Name</th>
        <th scope="col">Tel</th>
        <th scope="col">Email</th>
        <th scope="col">Address</th>
        <th scope="col">Created Date</th>
        <th scope="col">Edit</th>
        <th scope="col">Delete</th>
      </tr>
    </thead>
    <tbody>
      {% for contact in contacts %}
      <tr>
        <th scope="row">{{contact.sno}}</th>
        <td>{{contact.name}}</td>
        <td>{{contact.tel}}</td>
        <td>{{contact.email}}</td>
        <td>{{contact.address[:12]}}</td>
        <td>{{contact.date}}</td>
        <td><a href="/edit/{{contact.sno}}"><button class="btn btn-outline-success">Edit</button></a></td>
        <td><a href="/delete/{{contact.sno}}"><button class="btn btn-outline-danger">Delete</button></a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
  <div class="alert alert-warning my-3" role="alert">
    <h4 class="alert-heading">No contacts Info Here!</h4>
    <p>Add contacts to show the contact table</p>
    <hr>
    <p class="mb-0">It is a simple Flask app and with Mysql Database</p>
    <a href="/edit/{{sno}}" class="btn btn-outline-primary  my-3">Add New</a>
  </div>
  {% endif %}
</div>
{% endblock %}